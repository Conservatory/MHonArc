<HTML>
<HEAD><TITLE>MHonArc 1.0.0 -- Index Page 
Customization
</TITLE>
</HEAD>
<BODY>
<H1><HR><A NAME="30032">Index Page Customization</A>
</H1>

       <EM>MHonArc</EM> creates an index page with links to all mail messages filtered (unless 
       processing a single message with the <A HREF="mhonarc_clopts.doc.html#15562"><CODE>-single</CODE></A> option). <EM>MHonArc</EM> allows you to 
       have complete customization over the appearance of the index page.
<P>

<PRE>       
</PRE>

<HR>
<H2><A NAME="xtocid804121">Filename
</A></H2>

       By default, the filename of the index page is "<CODE>maillist.html</CODE>". However, a 
       different name may be specified with the <A HREF="mhonarc_env.doc.html#40918"><CODE>M2H_IDXFNAME</CODE></A> environment variable, 
       the <A HREF="mhonarc_rcfile.doc.html#35395"><CODE>IDXFNAME</CODE></A> resource element, or the <A HREF="mhonarc_clopts.doc.html#29572"><CODE>-idxfname</CODE></A> command-line option.
<P>

<PRE>       
</PRE>

<HR>
<H2><A NAME="xtocid804122">Title
</A></H2>

       The title of the index page is controlled by the <A HREF="mhonarc_env.doc.html#32063"><CODE>M2H_TITLE</CODE></A> environment variable, 
       the <A HREF="mhonarc_rcfile.doc.html#35395"><CODE>IDXFNAME</CODE></A> resource element, or the <A HREF="mhonarc_clopts.doc.html#11204"><CODE>-title</CODE></A> command-line option. The text for 
       the title is placed in the HTML <CODE>TITLE</CODE> element of the index page, and the text also 
       occurs at the very top of the body in a <CODE>H1</CODE> element.
<P>

<PRE>       
</PRE>

<HR>
<H2><A NAME="39385">Include Files</A>
</H2>

       <EM>MHonArc</EM> allows you to include the contents of files into the index page via the 
       header and footer resources.
<P>

       The header file is specified via the <A HREF="mhonarc_env.doc.html#21061"><CODE>M2H_HEADER</CODE></A> environment variable, the 
       <A HREF="mhonarc_rcfile.doc.html#12591"><CODE>HEADER</CODE></A> resource element, or the <A HREF="mhonarc_clopts.doc.html#39268"><CODE>-header</CODE></A> command-line option. The contents of 
       the header file are inserted above the message listing, and right after the <CODE>H1</CODE> title 
       element. <STRONG>NOTE</STRONG>: <VAR>filename</VAR> should not contain the <CODE>&lt;HTML&gt;</CODE>, <CODE>&lt;HEAD&gt;</CODE>, and <CODE>&lt;BODY&gt;</CODE> 
       tags; these tags are automatically provided by <EM>MHonArc</EM>.
<P>

       The footer file is specified via the <A HREF="mhonarc_env.doc.html#18889"><CODE>M2H_FOOTER</CODE></A> environment variable, the <A HREF="mhonarc_rcfile.doc.html#28184"><CODE>FOOTER</CODE></A> 
       resource element, or the <A HREF="mhonarc_clopts.doc.html#21527"><CODE>-footer</CODE></A> command-line option. The contents of the footer 
       file are inserted after the message listing. <STRONG>NOTE</STRONG>: <VAR>filename</VAR> should not contain the 
       <CODE>&lt;/BODY&gt;</CODE>, and <CODE>&lt;/HTML&gt;</CODE> tags; these tags are automatically provided by <EM>MHonArc</EM>.
<P>

       The header and footer files allow you to incorporate search-forms, hyperlinks to 
       other pages, or any other HTML markup you like.
<P>

       It is only necessary to specify the header and/or footer files the first time you create 
       an archive. The contents included from the header and/or footer files are 
       preserved in any subsequent additions to the archive. Only respecify the header 
       and/or footer files if you need to make changes to the header/footer contents.
<P>

<PRE>       
</PRE>

<HR>
<H2><A NAME="xtocid804124">Listing Layout
</A></H2>

       <EM>MHonArc</EM> lists messages in the order specified by the various sort options. 
       However, you have complete control on how the message listing are formatted via 
       the <CODE>LISTBEGIN</CODE>, <CODE>LITEMPLATE</CODE>, and <CODE>LISTEND</CODE> resource elements in the <A HREF="mhonarc_rcfile.doc.html#21846">Resource 
       File</A>. These elements allow you to specify the HTML markup to use in the index 
       page. When you define the contents for the <CODE>LISTBEGIN</CODE>, <CODE>LITEMPLATE</CODE>, and 
       <CODE>LISTEND</CODE> resource elements, you may use special <EM>variables</EM> defined by <EM>MHonArc</EM> 
       which are expanded to strings during run-time.
<P>

<H3>Variable Syntax
</H3>

       The syntax of the <EM>variables</EM> to use in the <CODE>LISTBEGIN</CODE>, <CODE>LITEMPLATE</CODE>, and <CODE>LISTEND</CODE> 
       resource elements is as follows:
<P>

       <CODE>$</CODE><EM>VARIABLE</EM>[<CODE>:</CODE><EM>N</EM>]<CODE>$
</CODE><P>

       The items in []'s are optional. Definition of each part:
<P>

<DL>
<DT>          <CODE>$</CODE> 

<DD>              The <CODE>$</CODE> character represents the beginning, and ending, of the variable.
</DL>
<DL>
<DT>          <EM>VARIABLE</EM> 

<DD>              This is the the actual name of the variable. All variable names must be 
              uppercase.
</DL>
<DL>
<DT>          :<EM>N</EM> 

<DD>              This defines a maximum length of the replacement string for the variable. 
              The length specifier is optional.
</DL>
       No whitespace is allowed between the opening <CODE>$</CODE> and closing <CODE>$</CODE>.
<P>

       Here are some examples of legal variable usage:
<P>

<UL>
<LI>          <CODE>$SUBJECT$</CODE> 
<LI>          <CODE>$FROMNAME$</CODE> 
<LI>          <CODE>$SUBJECT:50$</CODE> 
</UL>
<PRE>       
</PRE>

<HR>
<H3><A NAME="33994">LISTBEGIN</A>
</H3>

       The <CODE>LISTBEGIN</CODE> resource element specifies the text to begin the message list. The 
       text can be any valid HTML markup. Plus, <EM>MHonArc</EM> defines the following 
       variables you may use which get expanded at run-time:
<P>

<DL>
<DT>          <CODE><A NAME="22718">$GMTDATE$</A></CODE> 

<DD>              Expands to the current UTC/GMT date and time.
</DL>
<DL>
<DT>          <CODE><A NAME="41337">$LOCALDATE$</A></CODE> 

<DD>              Expands to the current local date and time.
</DL>
<DL>
<DT>          <CODE>$NUMOFMSG$</CODE> 

<DD>              The number of messages in the archive.
</DL>
       <EM>MHonArc</EM>'s <CODE>LISTBEGIN</CODE> default value is the following:
<P>

       <CODE>&lt;LISTBEGIN&gt; <BR>
       &lt;UL&gt; <BR>
       &lt;/LISTBEGIN&gt; <BR>
       </CODE>
<P>

<PRE>       
</PRE>

<HR>
<H3><A NAME="26878">LITEMPLATE</A>
</H3>

       The <CODE>LITEMPLATE</CODE> resoure element defines the HTML text to represent each 
       message list item. You may use the following variables which are expanded at 
       runtime:
<P>

<DL>
<DT>          <CODE>$A_ATTR$</CODE> 

<DD>              The <CODE>NAME</CODE> and <CODE>HREF</CODE> attributes to use in an anchor to link to the archived 
              message. The <CODE>NAME</CODE> attribute links the messages to the index page.
</DL>
<DL>
<DT>          <CODE>$A_HREF$</CODE> 

<DD>              The <CODE>HREF</CODE> attribute to use in an anchor to link to the archived message.
</DL>
<DL>
<DT>          <CODE>$A_NAME$</CODE> 

<DD>              The <CODE>NAME</CODE> attributes to use in an anchor for messages to link to the index 
              page.
</DL>
<DL>
<DT>          <CODE>$DATE$</CODE> 

<DD>              The date of the message.
</DL>
<DL>
<DT>          <CODE>$ICON$</CODE> 

<DD>              The context-type sensistive icon. See <A HREF="mhonarc_icons.doc.html#13220">Icons</A> for information.
</DL>
<DL>
<DT>          <CODE>$ICONURL$</CODE> 

<DD>              The URL to the context-type sensistive icon. See <A HREF="mhonarc_icons.doc.html#13220">Icons</A> for information.
</DL>
<DL>
<DT>          <CODE>$NUMFOLUP$</CODE> 

<DD>              Number of follow-up messages for the given message.
</DL>
<DL>
<DT>          <CODE>$FROM$</CODE> 

<DD>              The complete text in the From field of the message.
</DL>
<DL>
<DT>          <CODE>$FROMADDR$</CODE> 

<DD>              Just the actual e-mail address in the From field of the message.
</DL>
<DL>
<DT>          <CODE>$FROMNAME$</CODE> 

<DD>              The English name of the person in the From field of the message. If no 
              English name is found, the username specified in the e-mail address is 
              used.
</DL>
<DL>
<DT>          <CODE>$MSGNUM$</CODE> 

<DD>              The message numbers assigned to the message by <EM>MHonArc</EM>.
</DL>
<DL>
<DT>          <CODE>$ORDNUM$</CODE> 

<DD>              The current listing number of the message.
</DL>
<DL>
<DT>          <CODE>$SUBJECT$</CODE> 

<DD>              The subject text of the message wrapped in an anchor element that 
              hyperlinks to the message.
</DL>
<DL>
<DT>          <CODE>$SUBJECTNA$</CODE> 

<DD>              The subject text of the message without the anchor element.
</DL>
<PRE>       
</PRE>

<DL>
<DT>          <STRONG>NOTE</STRONG>: 

<DD>              Do not specify <CODE>$A_ATTR$</CODE>, <CODE>$A_NAME</CODE>, and <CODE>$SUBJECT$</CODE> together in the 
              <CODE>LITEMPLATE</CODE> element. Since all of these variables contain the <CODE>NAME</CODE> 
              atrribute, invalid HTML will be created since multiple anchors will have 
              the same <CODE>NAME</CODE> identifier.
</DL>
       <CODE>LITEMPLATE</CODE>'s default value is the following:
<P>

       <CODE>&lt;LITEMPLATE&gt; <BR>
       &lt;LI&gt;&lt;STRONG&gt;$SUBJECT$&lt;/STRONG&gt; <BR>
       &lt;UL&gt;&lt;LI&gt;&lt;EM&gt;From&lt;/EM&gt;: $FROM$&lt;/LI&gt;&lt;/UL&gt; <BR>
       &lt;/LI&gt; <BR>
       &lt;/LITEMPLATE&gt;</CODE> <BR>
       
<P>

<PRE>       
</PRE>

<HR>
<H3><A NAME="21268">LISTEND</A>
</H3>

       The <CODE>LISTEND</CODE> resource element specifies the text to use to end the message list. The 
       text can be any valid HTML markup. Plus, <EM>MHonArc</EM> defines the following 
       variables you may use which are expanded at run-time:
<P>

<DL>
<DT>          <CODE>$CURDATE$</CODE> 

<DD>              Expands to the current date and time.
</DL>
<DL>
<DT>          <CODE>$NUMOFMSG$</CODE> 

<DD>              The number of messages in the archive.
</DL>
       <CODE>LISTEND</CODE>'s default value is the following:
<P>

       <CODE>&lt;LISTEND&gt; <BR>
       &lt;/UL&gt; <BR>
       &lt;/LISTEND&gt; <BR>
       </CODE>
<P>

<PRE>       
</PRE>

<HR>
<H2><A NAME="xtocid804125">Examples
</A></H2>

<H3>Example 1
</H3>

       It may be easier to see how the <CODE>LISTBEGIN</CODE>, <CODE>LITEMPLATE</CODE>, <CODE>LISTEND</CODE> resource 
       elements work when declared together:
<P>

<PRE>&lt;!-- This represents the default values used by MHonArc --&gt;
&lt;LISTBEGIN&gt; 
&lt;UL&gt; 
&lt;/LISTBEGIN&gt; 

&lt;LITEMPLATE&gt; 
&lt;LI&gt;&lt;STRONG&gt;$SUBJECT$&lt;/STRONG&gt; 
&lt;UL&gt;&lt;LI&gt;&lt;EM&gt;From&lt;/EM&gt;: $FROM$&lt;/LI&gt;&lt;/UL&gt; 
&lt;/LI&gt; 
&lt;/LITEMPLATE&gt; 

&lt;LISTEND&gt; 
&lt;/UL&gt; 
&lt;/LISTEND&gt; 

</PRE>

<H3>Example 2
</H3>

       Here's another example that changes the layout into a more compact listing, adds 
       <A HREF="mhonarc_icons.doc.html#13220">Icons</A> usage, and adds a time stamp information on when the index page was last 
       updated:
<P>

<PRE>&lt;listbegin&gt;
&lt;address&gt;
Last update: $CURDATE$&lt;br&gt;
$NUMOFMSG$ messages&lt;br&gt;
&lt;/address&gt;
&lt;p&gt;
Messages listed in chronological order.  Listing format is the following:
&lt;blockquote&gt;
&lt;img src="http://foo.org/gifs/gletter.gif" alt="* "&gt;
&lt;strong&gt;Subject&lt;/strong&gt;&lt;code&gt;  &lt;/code&gt;
(# of follow-ups)&lt;code&gt;  &lt;/code&gt;
&lt;em&gt;From&lt;/em&gt;.
&lt;/blockquote&gt;
&lt;p&gt;
&lt;hr&gt;
&lt;/listbegin&gt;

&lt;litemplate&gt;
&lt;img src="$ICONURL$" alt="* "&gt;&lt;strong&gt;$SUBJECT:40$&lt;/strong&gt;
($NUMFOLUP$) &lt;em&gt;$FROMNAME$&lt;/em&gt;&lt;br&gt;
&lt;/litemplate&gt;

&lt;listend&gt;
&lt;/listend&gt;

</PRE>

<PRE>       
</PRE>

<HR>
       [Prev:<A HREF="mhonarc_mime.doc.html#23201">MIME</A>]<BR>
       [Next:<A HREF="mhonarc_icons.doc.html#13220">Icons</A>]<BR>
       [<A HREF="mhonarc.doc.html">ToC</A>]<BR>
       
<P>

<HR>
<ADDRESS>       MHonArc 1.0.0 -- Index Page Customization
</ADDRESS>
</BODY>
</HTML>