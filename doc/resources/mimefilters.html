<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<html>
<head>
<title>MHonArc Resources: MIMEFILTERS</title>
</head>
<body>

<address>
<a href="../resources.html#mimefilters">MHonArc Resource List</a><br>
</address>

<hr>
<h1>MIMEFILTERS</h1>

<!-- *************************************************************** -->
<hr>
<h2>Syntax</h2>

<dl>

<dt><strong>Envariable</strong><dt>
<dd><p>N/A
</p>
</dd>

<dt><strong>Element</strong><dt>
<dd><p>
<code>&lt;MIMEFILTERS&gt;<br></code>
<var>filter-specification</var><br>
<var>...</var><br>
<code>&lt;/MIMEFILTERS&gt;<br></code>
</p>
</dd>

<dt><strong>Command-line Option</strong><dt>
<dd><p>N/A
</p>
</dd>

</dl>

<!-- *************************************************************** -->
<hr>
<h2>Description</h2>

<P>The resource MIMEFILTERS
is used to hook in user
specifed filters into MHonArc. 
The MIMEFILTERS resource can only be set via the
<CODE>MIMEFILTERS</CODE> element.
The syntax for each line of
the the <CODE>MIMEFILTERS</CODE> element is as follows: </P>

<P><var>content-type</var><CODE>;</CODE><var>routine-name</var><CODE>;</CODE><var>file-of-routine</var> </P>

<P>The definition of each semi-colon-separated value is as follows:
</P>

<DL>
<DT><var>content-type</var> 
 
<DD><P>The MIME content-type the filter processes.  An explicit
content-type (base/subtype) or a base content-type (base/*)
can be specified.
</P>

<DT><var>routine-name</var>
<DD><P>The actual routine name of the filter. The name
should be fully qualified by the package it is defined in
(e.g. "<CODE>mypackage::filter</CODE>").  </P>

<DT><var>file-of-routine</var>
<DD><P>The name of the file that defines
<var>routine-name</var>. If the file is not a full
pathname, MHonArc finds the file by looking in the
standard include paths of Perl, and the paths specified by the
<A HREF="perlinc.html">PERLINC</A>
resource.
</P>

</DL>

<table border=0 cellpadding=4>
<tr valign=top>
<td><strong>NOTE</strong></td>
<td><p>For backwards compatibility, the values of a filter specification
can be separated with a colon, "<tt>:</tt>".  However, if you use a colon,
package qualification of a function must use Perl 4 syntax.
</p>
</td>
</tr>
</table>

<P>Whitespace is stripped out for each filter specification.
</P>

<H3><a name="writefilters">Writing Filters</a></H3>

<P>If you want to write your own filter for use in MHonArc,
you need to know the Perl programming language. The following
information assumes you know Perl.
</P>

<table border=0 cellpadding=4>
<tr valign=top>
<td><strong>NOTE</strong></td>
<td><p>The filter model follows Perl 4 syntax conventions
and constructs.  This is because of historical reasons.
Note, the implementation of the filter can use Perl 5
syntax and features, where applicable, if running MHonArc
under Perl 5.
</p>
</td>
</tr>
</table>

<table border=0 cellpadding=4>
<tr valign=top>
<td><strong>NOTE</strong></td>
<td><p>The default filters provided by MHonArc are described
in the <strong>Default Settings</strong> section.
</p>
</td>
</tr>
</table>

<H4>Function Interface of Filter</H4>

<P>MHonArc interfaces with MIME filters by calling a routine
with a specific set of arguments. The prototype of the interface
routine is as follows: </P>

<PRE>
sub <var>filter</var> {
    local(<b>$head</b>, <b>*fields</b>, <b>$data</b>, <b>$decoded</b>, <b>$argstring</b>) = @_;

    <var># Filter code here

    # The last statement should be the return value, unless an
    # explicit return is done. See the following for the format of the
    # return value.</var>
}
</PRE>

<H5>Argument Descriptions</H5>

<table cellspacing=1 border=0 cellpadding=4>

<tr valign=top>
<td><strong><CODE>$head</CODE></strong></td>
<td><P>This is the header text of the message (or body part if called
in a multipart message).
</P>
</td>
</tr>

<tr valign=top>
<td><strong><CODE>*fields</CODE></strong></td>
<td><P>A pointer (typeglob) to an associative array that has broken down
<strong><CODE>$head</CODE></strong>
into field label/field value components. The
keys are the lower-case representations of the field
values. <STRONG>Example</STRONG>: If you would like to retrieve
the value of the Content-Type field, then use the following:
<strong><CODE>$fields{'content-type'}</CODE></strong>.
</P>
<P>If a field occurs more than once in a header, MHonArc
separates the field values in the associative array by a
`<strong><CODE>\034</CODE></strong>' character.
To make your filter less likely to break
due to changes in MHonArc, you may use the
<strong><CODE>$readmail::FieldSep</CODE></strong>
variable instead of `<strong><CODE>\034</CODE></strong>'.
</P>

<table border=0 cellpadding=4>
<tr valign=top>
<td><strong>NOTE</strong></td>
<td><p>Since the <strong><CODE>*fields</CODE></strong> argument
is a typeglob, <strong><code>my</code></strong> cannot be used
when assigning the typeglob from the <strong><code>@_</code></strong> array.
<strong><code>my</code></strong> can be used for creating local copies
of the other arguments.
</p>
</td>
</tr>
</table>

</td>
</tr>

<tr valign=top>
<td><strong><CODE>$data</CODE></strong></td>
<td><P>This is a copy of the message (or body part if called in
a mulitpart message) body.
</P>
</td>
</tr>

<tr valign=top>
<td><strong><CODE>$decoded</CODE></strong></td>
<td><P>This flag is set to 1 if MHonArc decoded the message
and <strong><code>$data</code></strong>
represents the orginal data before encoded by the sender. If
set to 0, <strong><code>$data</code></strong>
has not been decoded. The failure to decode occurs
if MHonArc does not recognizeed the encoding specified in
the Content-Transfer-Encoding field.
</P>
<P>MHonArc has decoded the data for you if it was encoded
in 7-Bit, 8-Bit, Binary, Quoted-Printable, Base64, Uuencode
(x-uuencode, uuencode, x-uue, uue).
</P>
</td>
</tr>

<tr valign=top>
<td><strong><CODE>$argstring</CODE></strong></td>
<td><P>This is an optional argument string that may be used to modify the 
behavior of the filter. The format of this string is determined by the filter 
itself.  The value of the string is set by the
<a href="mimeargs.html">MIMEARGS</a> resource.
</P>
</td>
</tr>

</table>

<H5>Return Value</H5>

<P>The return value is treated as a list. The first item of the list
is a string representing the HTML markup to insert in the HTMLized
message. An empty string may be returned to tell MHonArc
that the routine was unable to filter data.  </P>

<P>Any other list items are treated as names of any files that were
generated by the filter. MHonArc needs to keep track if any
extra files that a filter may generate in order for MHonArc to
delete those files if the message gets removed from the archive.
</P>

<table border=0 cellpadding=4>
<tr valign=top>
<td><strong>NOTE</strong></td>
<td><p>If the filter creates a subdirectory with files, the filter
only needs to return the subdirectory in the return list.  If
the message gets removed, MHonArc will delete the entire
directory.
</p>
</td>
</tr>
</table>

<H4>Filter Writing Tips</H4>

<P>The following recommendations/tips are given to help you write
filters: </P>

<UL>
<LI><P>Qualify your filter in its own package. This eliminates possible 
variable/routine conflicts with MHonArc.
</P>

<LI><P>If the filter creates derived files (like the image filters),
you may use the variable <strong><CODE>$mhonarc::OUTDIR</CODE></strong>
to determine the
location of the mail archive.  </P>

<table border=0 cellpadding=4>
<tr valign=top>
<td><strong>NOTE</strong></td>
<td><p><strong>Do not include</strong> 
<strong><CODE>$mhonarc::OUTDIR</CODE></strong> as part as the
filename that is returned to MHonArc.  If the filter
does create files, just return the base name.
</td>
</tr>
</table>

<LI><P>Look at the default filters contained in the distribution
of MHonArc. You can use these as templates for writing
your own.  </P>

<LI><P>Make sure your Perl source file ends with a true statement
(like "<CODE>1;</CODE>").  MHonArc just performs a
<strong><CODE>require</CODE></strong>
on the file, and if the file does not return
true, Perl will abort execution.  </P>

<li><p>Test your filter before production use.

</UL>

<H4>Using C</H4>

<P>If a MIME filter requires the utilization of a C program, or
other non-Perl executable, a Perl wrapper must be written for the
program in-order to interface with MHonArc.  The wrapper must
follow the conventions described in
<a href="#writefilters">Writing Filters</a>.
</P>

<!-- *************************************************************** -->
<hr>
<h2>Default Setting</h2>

<PRE>
<b>&lt;MIMEFilters&gt;</b>
application/*;		   <a href="#m2h_external">m2h_external::filter</a>;	mhexternal.pl
application/x-patch;	   <a href="#m2h_text_plain">m2h_text_plain::filter</a>;	mhtxtplain.pl
audio/*;		   <a href="#m2h_external">m2h_external::filter</a>;	mhexternal.pl
chemical/*;		   <a href="#m2h_external">m2h_external::filter</a>;	mhexternal.pl
model/*;		   <a href="#m2h_external">m2h_external::filter</a>;	mhexternal.pl
image/*;		   <a href="#m2h_external">m2h_external::filter</a>;	mhexternal.pl
message/partial;	   <a href="#m2h_text_plain">m2h_text_plain::filter</a>;	mhtxtplain.pl
text/*;			   <a href="#m2h_text_plain">m2h_text_plain::filter</a>;	mhtxtplain.pl
text/enriched;		   <a href="#m2h_text_enriched">m2h_text_enriched::filter</a>;	mhtxtenrich.pl
text/html;		   <a href="#m2h_text_html">m2h_text_html::filter</a>;	mhtxthtml.pl
text/plain;		   <a href="#m2h_text_plain">m2h_text_plain::filter</a>;	mhtxtplain.pl
text/richtext;		   <a href="#m2h_text_enriched">m2h_text_enriched::filter</a>;	mhtxtenrich.pl
text/setext;		   <a href="#m2h_text_setext">m2h_text_setext::filter</a>;	mhtxtsetext.pl
text/tab-separated-values; <a href="#m2h_text_tsv">m2h_text_tsv::filter</a>;	mhtxttsv.pl
text/x-html;		   <a href="#m2h_text_html">m2h_text_html::filter</a>;	mhtxthtml.pl
text/x-setext;		   <a href="#m2h_text_setext">m2h_text_setext::filter</a>;	mhtxtsetext.pl
video/*;		   <a href="#m2h_external">m2h_external::filter</a>;	mhexternal.pl
<b>&lt;/MIMEFilters&gt;</b>
</PRE>

<p>The following describes the behavior of each filter.
</p>

<hr size=0 noshade width="50%">
<H3><a name="m2h_external">m2h_external::filter</a></h3>

<P>The filter extracts the data into a separate file and puts
a hyperlink to the file into the HTMLized message.  </P>

<P>By default, the filter ignores any filename specification
given in the message when writing the data to disk. 
A unique filename with an extenstion based upon sub-type is
generated.
</P>

<p><strong><tt>m2h_external::filter</tt></strong> can take the
following
<a href="mimeargs.html">arguments</a>:
</p>

<table cellspacing=1 border=0 cellpadding=4>
<tr valign=top>
<td><strong><tt>iconurl="<var>url</var>"</tt></strong></td>
<td><p>Use "<var>url</var>" as the url for the icon to use
if the <strong><tt>useicon</tt></strong> option is set.
This option will override any setting defined by the
<a href="icons.html">ICONS</a> resource.
The double quotes are required.
</p>
</tr>
<tr valign=top>
<td><strong><tt>inline</tt></strong></td>
<td><p>Inline image data by default if content-disposition not defined.
</p>
</tr>
<tr valign=top>
<td><strong><tt>ext=<var>ext</var></tt></strong></td>
<td><p>Use <var>ext</var> as the filename extension.
The filter already has a large list of extensions for various
content-types.  Use this argument if you process a
content-type not recognized by the filter.
</p>
</tr>
<tr valign=top>
<td><strong><tt>type="<var>description</var>"</tt></strong></td>
<td><p>Use "<var>description</var>" as type description of the
data.  The double quotes are required.
The filter already has a large list of descriptions for various
content-types.  Use this argument if you process a
content-type not recognized by the filter.
</p>
</tr>
<tr valign=top>
<td><strong><tt>subdir</tt></strong></td>
<td><p>Place derived file in a subdirectory of the archive.
The subdirectory will be called "<tt>msg<var>MSGNUM</var>.dir</tt>".
This option may be useful if <strong><tt>usename</tt></strong> is
specified to avoid security and name conflict problems.
</p>
</tr>
<tr valign=top>
<td><strong><tt>target=</tt></strong><var>name</var></td>
<td><p>Set the TARGET attribute of anchor link to file
Default value is undefined (ie. no TARGET attribute will be
written).
</p>
</tr>
<tr valign=top>
<td><strong><tt>useicon</tt></strong></td>
<td><p>Include a content-type icon with the hyperlink to
the derived file.  The icon used is the value of the
<strong><tt>iconurl</tt></strong> option or the icon
defined by the <a href="icons.html">ICONS</a> resource.
</p>
</tr>
<tr valign=top>
<td><strong><tt>usename</tt></strong></td>
<td><p>Use (file)name attribute for determining name
of derived file.  Use this option with caution
since it can lead to filename conflicts and
security problems (however, see the <strong><tt>subdir</tt></strong>
option).
</p>
</tr>
</table>

<p>All arguments should be separated by at least one space.</p>

<p>The following table shows the default list of content-types with the
filename extension used and a short
description that <strong><tt>m2h_external::filter</tt></strong>
recognizes:
</p>

<center>
<!--X-Ext-CType-Start-->
<table border=1 cellpadding=1>
<tr bgcolor="#C0C0C0">
<th align=left>Content-type</th><th align=center>Extension</th><th align=left>Description</th></tr>
<tr valign="top">
<td align=left><strong>application/astound</strong></td>
<td align=center><tt>asd</tt></td>
<td>Astound presentation</td></tr>
<tr valign="top">
<td align=left><strong>application/envoy</strong></td>
<td align=center><tt>evy</tt></td>
<td>Envoy file</td></tr>
<tr valign="top">
<td align=left><strong>application/fastman</strong></td>
<td align=center><tt>lcc</tt></td>
<td>fastman file</td></tr>
<tr valign="top">
<td align=left><strong>application/fractals</strong></td>
<td align=center><tt>fif</tt></td>
<td>Fractal Image Format</td></tr>
<tr valign="top">
<td align=left><strong>application/iges</strong></td>
<td align=center><tt>iges</tt></td>
<td>IGES file</td></tr>
<tr valign="top">
<td align=left><strong>application/mac-binhex40</strong></td>
<td align=center><tt>hqx</tt></td>
<td>Mac BinHex archive</td></tr>
<tr valign="top">
<td align=left><strong>application/mathematica</strong></td>
<td align=center><tt>ma</tt></td>
<td>Mathematica Notebook document</td></tr>
<tr valign="top">
<td align=left><strong>application/mbedlet</strong></td>
<td align=center><tt>mbd</tt></td>
<td>mbedlet file</td></tr>
<tr valign="top">
<td align=left><strong>application/msword</strong></td>
<td align=center><tt>doc</tt></td>
<td>MS-Word document</td></tr>
<tr valign="top">
<td align=left><strong>application/octet-stream</strong></td>
<td align=center><tt>bin</tt></td>
<td>Binary data</td></tr>
<tr valign="top">
<td align=left><strong>application/oda</strong></td>
<td align=center><tt>oda</tt></td>
<td>ODA file</td></tr>
<tr valign="top">
<td align=left><strong>application/pdf</strong></td>
<td align=center><tt>pdf</tt></td>
<td>Adobe PDF document</td></tr>
<tr valign="top">
<td align=left><strong>application/pgp</strong></td>
<td align=center><tt>pgp</tt></td>
<td>PGP message</td></tr>
<tr valign="top">
<td align=left><strong>application/pgp-signature</strong></td>
<td align=center><tt>pgp</tt></td>
<td>PGP signature</td></tr>
<tr valign="top">
<td align=left><strong>application/postscript</strong></td>
<td align=center><tt>ps</tt></td>
<td>PostScript document</td></tr>
<tr valign="top">
<td align=left><strong>application/rtf</strong></td>
<td align=center><tt>rtf</tt></td>
<td>RTF file</td></tr>
<tr valign="top">
<td align=left><strong>application/sgml</strong></td>
<td align=center><tt>sgml</tt></td>
<td>SGML document</td></tr>
<tr valign="top">
<td align=left><strong>application/studiom</strong></td>
<td align=center><tt>smp</tt></td>
<td>Studio M file</td></tr>
<tr valign="top">
<td align=left><strong>application/timbuktu</strong></td>
<td align=center><tt>tbt</tt></td>
<td>timbuktu file</td></tr>
<tr valign="top">
<td align=left><strong>application/vis5d</strong></td>
<td align=center><tt>v5d</tt></td>
<td>Vis5D dataset</td></tr>
<tr valign="top">
<td align=left><strong>application/vnd.hp-hpgl</strong></td>
<td align=center><tt>hpg</tt></td>
<td>HPGL file</td></tr>
<tr valign="top">
<td align=left><strong>application/vnd.ms-excel</strong></td>
<td align=center><tt>xls</tt></td>
<td>MS-Excel spreadsheet</td></tr>
<tr valign="top">
<td align=left><strong>application/vnd.ms-powerpoint</strong></td>
<td align=center><tt>ppt</tt></td>
<td>MS-Powerpoint presentation</td></tr>
<tr valign="top">
<td align=left><strong>application/vnd.ms-project</strong></td>
<td align=center><tt>mpp</tt></td>
<td>MS-Project file</td></tr>
<tr valign="top">
<td align=left><strong>application/winhlp</strong></td>
<td align=center><tt>hlp</tt></td>
<td>WinHelp document</td></tr>
<tr valign="top">
<td align=left><strong>application/wordperfect5.1</strong></td>
<td align=center><tt>hlp</tt></td>
<td>WordPerfect 5.1 document</td></tr>
<tr valign="top">
<td align=left><strong>application/x-asap</strong></td>
<td align=center><tt>asp</tt></td>
<td>asap file</td></tr>
<tr valign="top">
<td align=left><strong>application/x-bcpio</strong></td>
<td align=center><tt>bcpio</tt></td>
<td>BCPIO file</td></tr>
<tr valign="top">
<td align=left><strong>application/x-compress</strong></td>
<td align=center><tt>Z</tt></td>
<td>Unix compressed data</td></tr>
<tr valign="top">
<td align=left><strong>application/x-cpio</strong></td>
<td align=center><tt>cpio</tt></td>
<td>CPIO file</td></tr>
<tr valign="top">
<td align=left><strong>application/x-csh</strong></td>
<td align=center><tt>csh</tt></td>
<td>C-Shell script</td></tr>
<tr valign="top">
<td align=left><strong>application/x-dot</strong></td>
<td align=center><tt>dot</tt></td>
<td>dot file</td></tr>
<tr valign="top">
<td align=left><strong>application/x-dvi</strong></td>
<td align=center><tt>dvi</tt></td>
<td>TeX dvi file</td></tr>
<tr valign="top">
<td align=left><strong>application/x-earthtime</strong></td>
<td align=center><tt>etc</tt></td>
<td>Earthtime file</td></tr>
<tr valign="top">
<td align=left><strong>application/x-envoy</strong></td>
<td align=center><tt>evy</tt></td>
<td>Envoy file</td></tr>
<tr valign="top">
<td align=left><strong>application/x-excel</strong></td>
<td align=center><tt>xls</tt></td>
<td>MS-Excel spreadsheet</td></tr>
<tr valign="top">
<td align=left><strong>application/x-gtar</strong></td>
<td align=center><tt>gtar</tt></td>
<td>GNU Unix tar archive</td></tr>
<tr valign="top">
<td align=left><strong>application/x-gzip</strong></td>
<td align=center><tt>gz</tt></td>
<td>GNU Zip compressed data</td></tr>
<tr valign="top">
<td align=left><strong>application/x-hdf</strong></td>
<td align=center><tt>hdf</tt></td>
<td>HDF file</td></tr>
<tr valign="top">
<td align=left><strong>application/x-javascript</strong></td>
<td align=center><tt>js</tt></td>
<td>JavaScript source</td></tr>
<tr valign="top">
<td align=left><strong>application/x-ksh</strong></td>
<td align=center><tt>ksh</tt></td>
<td>Korn Shell script</td></tr>
<tr valign="top">
<td align=left><strong>application/x-latex</strong></td>
<td align=center><tt>latex</tt></td>
<td>LaTeX document</td></tr>
<tr valign="top">
<td align=left><strong>application/x-maker</strong></td>
<td align=center><tt>fm</tt></td>
<td>FrameMaker document</td></tr>
<tr valign="top">
<td align=left><strong>application/x-mif</strong></td>
<td align=center><tt>mif</tt></td>
<td>Frame MIF document</td></tr>
<tr valign="top">
<td align=left><strong>application/x-mocha</strong></td>
<td align=center><tt>moc</tt></td>
<td>mocha file</td></tr>
<tr valign="top">
<td align=left><strong>application/x-msaccess</strong></td>
<td align=center><tt>mdb</tt></td>
<td>MS-Access database</td></tr>
<tr valign="top">
<td align=left><strong>application/x-mscardfile</strong></td>
<td align=center><tt>crd</tt></td>
<td>MS-CardFile</td></tr>
<tr valign="top">
<td align=left><strong>application/x-msclip</strong></td>
<td align=center><tt>clp</tt></td>
<td>MS-Clip file</td></tr>
<tr valign="top">
<td align=left><strong>application/x-msmediaview</strong></td>
<td align=center><tt>m14</tt></td>
<td>MS-Media View file</td></tr>
<tr valign="top">
<td align=left><strong>application/x-msmetafile</strong></td>
<td align=center><tt>wmf</tt></td>
<td>MS-Metafile</td></tr>
<tr valign="top">
<td align=left><strong>application/x-msmoney</strong></td>
<td align=center><tt>mny</tt></td>
<td>MS-Money file</td></tr>
<tr valign="top">
<td align=left><strong>application/x-mspublisher</strong></td>
<td align=center><tt>pub</tt></td>
<td>MS-Publisher document</td></tr>
<tr valign="top">
<td align=left><strong>application/x-msschedule</strong></td>
<td align=center><tt>scd</tt></td>
<td>MS-Schedule file</td></tr>
<tr valign="top">
<td align=left><strong>application/x-msterminal</strong></td>
<td align=center><tt>trm</tt></td>
<td>MS-Terminal</td></tr>
<tr valign="top">
<td align=left><strong>application/x-mswrite</strong></td>
<td align=center><tt>wri</tt></td>
<td>MS-Write document</td></tr>
<tr valign="top">
<td align=left><strong>application/x-net-install</strong></td>
<td align=center><tt>ins</tt></td>
<td>Net Install file</td></tr>
<tr valign="top">
<td align=left><strong>application/x-netcdf</strong></td>
<td align=center><tt>cdf</tt></td>
<td>Cdf file</td></tr>
<tr valign="top">
<td align=left><strong>application/x-ns-proxy-autoconfig</strong></td>
<td align=center><tt>proxy</tt></td>
<td>Netscape Proxy Auto Config</td></tr>
<tr valign="top">
<td align=left><strong>application/x-patch</strong></td>
<td align=center><tt>patch</tt></td>
<td>Source code patch</td></tr>
<tr valign="top">
<td align=left><strong>application/x-perl</strong></td>
<td align=center><tt>pl</tt></td>
<td>Perl program</td></tr>
<tr valign="top">
<td align=left><strong>application/x-pointplus</strong></td>
<td align=center><tt>css</tt></td>
<td>pointplus file</td></tr>
<tr valign="top">
<td align=left><strong>application/x-salsa</strong></td>
<td align=center><tt>slc</tt></td>
<td>salsa file</td></tr>
<tr valign="top">
<td align=left><strong>application/x-script</strong></td>
<td align=center><tt>script</tt></td>
<td>A script file</td></tr>
<tr valign="top">
<td align=left><strong>application/x-sh</strong></td>
<td align=center><tt>sh</tt></td>
<td>Bourne shell script</td></tr>
<tr valign="top">
<td align=left><strong>application/x-shar</strong></td>
<td align=center><tt>shar</tt></td>
<td>Unix shell archive</td></tr>
<tr valign="top">
<td align=left><strong>application/x-sprite</strong></td>
<td align=center><tt>spr</tt></td>
<td>sprite file</td></tr>
<tr valign="top">
<td align=left><strong>application/x-stuffit</strong></td>
<td align=center><tt>sit</tt></td>
<td>Macintosh archive</td></tr>
<tr valign="top">
<td align=left><strong>application/x-sv4cpio</strong></td>
<td align=center><tt>sv4cpio</tt></td>
<td>SV4Cpio file</td></tr>
<tr valign="top">
<td align=left><strong>application/x-sv4crc</strong></td>
<td align=center><tt>sv4crc</tt></td>
<td>SV4Crc file</td></tr>
<tr valign="top">
<td align=left><strong>application/x-tar</strong></td>
<td align=center><tt>tar</tt></td>
<td>Unix tar archive</td></tr>
<tr valign="top">
<td align=left><strong>application/x-tcl</strong></td>
<td align=center><tt>tcl</tt></td>
<td>Tcl script</td></tr>
<tr valign="top">
<td align=left><strong>application/x-tex</strong></td>
<td align=center><tt>tex</tt></td>
<td>TeX document</td></tr>
<tr valign="top">
<td align=left><strong>application/x-texinfo</strong></td>
<td align=center><tt>texinfo</tt></td>
<td>TeXInfo document</td></tr>
<tr valign="top">
<td align=left><strong>application/x-timbuktu</strong></td>
<td align=center><tt>tbp</tt></td>
<td>timbuktu file</td></tr>
<tr valign="top">
<td align=left><strong>application/x-tkined</strong></td>
<td align=center><tt>tki</tt></td>
<td>tkined file</td></tr>
<tr valign="top">
<td align=left><strong>application/x-troff</strong></td>
<td align=center><tt>roff</tt></td>
<td>Troff document</td></tr>
<tr valign="top">
<td align=left><strong>application/x-troff-man</strong></td>
<td align=center><tt>man</tt></td>
<td>Unix manual page</td></tr>
<tr valign="top">
<td align=left><strong>application/x-troff-me</strong></td>
<td align=center><tt>me</tt></td>
<td>Troff ME-macros document</td></tr>
<tr valign="top">
<td align=left><strong>application/x-troff-ms</strong></td>
<td align=center><tt>ms</tt></td>
<td>Troff MS-macros document</td></tr>
<tr valign="top">
<td align=left><strong>application/x-ustar</strong></td>
<td align=center><tt>ustar</tt></td>
<td>UStar file</td></tr>
<tr valign="top">
<td align=left><strong>application/x-wais-source</strong></td>
<td align=center><tt>src</tt></td>
<td>WAIS Source</td></tr>
<tr valign="top">
<td align=left><strong>application/x-zip-compressed</strong></td>
<td align=center><tt>zip</tt></td>
<td>Zip compressed data</td></tr>
<tr valign="top">
<td align=left><strong>application/zip</strong></td>
<td align=center><tt>zip</tt></td>
<td>Zip archive</td></tr>
<tr valign="top">
<td align=left><strong>audio/basic</strong></td>
<td align=center><tt>snd</tt></td>
<td>Basic audio</td></tr>
<tr valign="top">
<td align=left><strong>audio/echospeech</strong></td>
<td align=center><tt>es</tt></td>
<td>Echospeech audio</td></tr>
<tr valign="top">
<td align=left><strong>audio/midi</strong></td>
<td align=center><tt>midi</tt></td>
<td>MIDI audio</td></tr>
<tr valign="top">
<td align=left><strong>audio/x-aiff</strong></td>
<td align=center><tt>aif</tt></td>
<td>AIF audio</td></tr>
<tr valign="top">
<td align=left><strong>audio/x-epac</strong></td>
<td align=center><tt>pae</tt></td>
<td>epac audio</td></tr>
<tr valign="top">
<td align=left><strong>audio/x-midi</strong></td>
<td align=center><tt>midi</tt></td>
<td>MIDI audio</td></tr>
<tr valign="top">
<td align=left><strong>audio/x-mpeg</strong></td>
<td align=center><tt>mp2</tt></td>
<td>MPEG audio</td></tr>
<tr valign="top">
<td align=left><strong>audio/x-pac</strong></td>
<td align=center><tt>pac</tt></td>
<td>pac audio</td></tr>
<tr valign="top">
<td align=left><strong>audio/x-pn-realaudio</strong></td>
<td align=center><tt>ra</tt></td>
<td>PN Realaudio</td></tr>
<tr valign="top">
<td align=left><strong>audio/x-wav</strong></td>
<td align=center><tt>wav</tt></td>
<td>Wave audio</td></tr>
<tr valign="top">
<td align=left><strong>chemical/chem3d</strong></td>
<td align=center><tt>c3d</tt></td>
<td>Chem3d chemical test</td></tr>
<tr valign="top">
<td align=left><strong>chemical/chemdraw</strong></td>
<td align=center><tt>chm</tt></td>
<td>Chemdraw chemical test</td></tr>
<tr valign="top">
<td align=left><strong>chemical/cif</strong></td>
<td align=center><tt>cif</tt></td>
<td>CIF chemical test</td></tr>
<tr valign="top">
<td align=left><strong>chemical/cml</strong></td>
<td align=center><tt>cml</tt></td>
<td>CML chemical test</td></tr>
<tr valign="top">
<td align=left><strong>chemical/cxf</strong></td>
<td align=center><tt>cxf</tt></td>
<td>Chemical Exhange Format file</td></tr>
<tr valign="top">
<td align=left><strong>chemical/daylight-smiles</strong></td>
<td align=center><tt>smi</tt></td>
<td>SMILES format file</td></tr>
<tr valign="top">
<td align=left><strong>chemical/embl-dl-nucleotide</strong></td>
<td align=center><tt>emb</tt></td>
<td>EMBL nucleotide format file</td></tr>
<tr valign="top">
<td align=left><strong>chemical/gaussian-input</strong></td>
<td align=center><tt>gau</tt></td>
<td>Gaussian chemical test</td></tr>
<tr valign="top">
<td align=left><strong>chemical/gcg8-sequence</strong></td>
<td align=center><tt>gcg</tt></td>
<td>GCG format file</td></tr>
<tr valign="top">
<td align=left><strong>chemical/genbank</strong></td>
<td align=center><tt>gen</tt></td>
<td>GENbank data</td></tr>
<tr valign="top">
<td align=left><strong>chemical/jcamp-dx</strong></td>
<td align=center><tt>jdx</tt></td>
<td>Jcamp chemical spectra test</td></tr>
<tr valign="top">
<td align=left><strong>chemical/kinemage</strong></td>
<td align=center><tt>kin</tt></td>
<td>Kinemage chemical test</td></tr>
<tr valign="top">
<td align=left><strong>chemical/macromodel-input</strong></td>
<td align=center><tt>mmd</tt></td>
<td>Macromodel chemical test</td></tr>
<tr valign="top">
<td align=left><strong>chemical/mdl-molfile</strong></td>
<td align=center><tt>mol</tt></td>
<td>MOL mdl chemical test</td></tr>
<tr valign="top">
<td align=left><strong>chemical/mdl-rdf</strong></td>
<td align=center><tt>rdf</tt></td>
<td>RDF chemical test</td></tr>
<tr valign="top">
<td align=left><strong>chemical/mdl-rxn</strong></td>
<td align=center><tt>rxn</tt></td>
<td>RXN chemical test</td></tr>
<tr valign="top">
<td align=left><strong>chemical/mdl-sdf</strong></td>
<td align=center><tt>sdf</tt></td>
<td>SDF chemical test</td></tr>
<tr valign="top">
<td align=left><strong>chemical/mdl-tgf</strong></td>
<td align=center><tt>tgf</tt></td>
<td>TGF chemical test</td></tr>
<tr valign="top">
<td align=left><strong>chemical/mif</strong></td>
<td align=center><tt>mif</tt></td>
<td>MIF chemical test</td></tr>
<tr valign="top">
<td align=left><strong>chemical/mopac-input</strong></td>
<td align=center><tt>mop</tt></td>
<td>MOPAC data </td></tr>
<tr valign="top">
<td align=left><strong>chemical/ncbi-asn1</strong></td>
<td align=center><tt>asn</tt></td>
<td>NCBI data</td></tr>
<tr valign="top">
<td align=left><strong>chemical/pdb</strong></td>
<td align=center><tt>pdb</tt></td>
<td>PDB chemical test</td></tr>
<tr valign="top">
<td align=left><strong>chemical/rosdal</strong></td>
<td align=center><tt>ros</tt></td>
<td>Rosdal data</td></tr>
<tr valign="top">
<td align=left><strong>image/bmp</strong></td>
<td align=center><tt>bmp</tt></td>
<td>Windows bitmap</td></tr>
<tr valign="top">
<td align=left><strong>image/cgm</strong></td>
<td align=center><tt>cgm</tt></td>
<td>Computer Graphics Metafile</td></tr>
<tr valign="top">
<td align=left><strong>image/fif</strong></td>
<td align=center><tt>fif</tt></td>
<td>Fractal Image Format image</td></tr>
<tr valign="top">
<td align=left><strong>image/g3fax</strong></td>
<td align=center><tt>g3f</tt></td>
<td>Group III FAX image</td></tr>
<tr valign="top">
<td align=left><strong>image/gif</strong></td>
<td align=center><tt>gif</tt></td>
<td>GIF image</td></tr>
<tr valign="top">
<td align=left><strong>image/ief</strong></td>
<td align=center><tt>ief</tt></td>
<td>IEF image</td></tr>
<tr valign="top">
<td align=left><strong>image/ifs</strong></td>
<td align=center><tt>ifs</tt></td>
<td>IFS image</td></tr>
<tr valign="top">
<td align=left><strong>image/jpeg</strong></td>
<td align=center><tt>jpg</tt></td>
<td>JPEG image</td></tr>
<tr valign="top">
<td align=left><strong>image/png</strong></td>
<td align=center><tt>png</tt></td>
<td>PNG image</td></tr>
<tr valign="top">
<td align=left><strong>image/tiff</strong></td>
<td align=center><tt>tif</tt></td>
<td>TIFF image</td></tr>
<tr valign="top">
<td align=left><strong>image/vnd</strong></td>
<td align=center><tt>dwg</tt></td>
<td>VND image</td></tr>
<tr valign="top">
<td align=left><strong>image/wavelet</strong></td>
<td align=center><tt>wi</tt></td>
<td>Wavelet image</td></tr>
<tr valign="top">
<td align=left><strong>image/x-cmu-raster</strong></td>
<td align=center><tt>ras</tt></td>
<td>CMU raster</td></tr>
<tr valign="top">
<td align=left><strong>image/x-pbm</strong></td>
<td align=center><tt>pbm</tt></td>
<td>Portable bitmap</td></tr>
<tr valign="top">
<td align=left><strong>image/x-pcx</strong></td>
<td align=center><tt>pcx</tt></td>
<td>PCX image</td></tr>
<tr valign="top">
<td align=left><strong>image/x-pgm</strong></td>
<td align=center><tt>pgm</tt></td>
<td>Portable graymap</td></tr>
<tr valign="top">
<td align=left><strong>image/x-pict</strong></td>
<td align=center><tt>pict</tt></td>
<td>Mac PICT image</td></tr>
<tr valign="top">
<td align=left><strong>image/x-pnm</strong></td>
<td align=center><tt>pnm</tt></td>
<td>Portable anymap</td></tr>
<tr valign="top">
<td align=left><strong>image/x-portable-anymap</strong></td>
<td align=center><tt>pnm</tt></td>
<td>Portable anymap</td></tr>
<tr valign="top">
<td align=left><strong>image/x-portable-bitmap</strong></td>
<td align=center><tt>pbm</tt></td>
<td>Portable bitmap</td></tr>
<tr valign="top">
<td align=left><strong>image/x-portable-graymap</strong></td>
<td align=center><tt>pgm</tt></td>
<td>Portable graymap</td></tr>
<tr valign="top">
<td align=left><strong>image/x-portable-pixmap</strong></td>
<td align=center><tt>ppm</tt></td>
<td>Portable pixmap</td></tr>
<tr valign="top">
<td align=left><strong>image/x-ppm</strong></td>
<td align=center><tt>ppm</tt></td>
<td>Portable pixmap</td></tr>
<tr valign="top">
<td align=left><strong>image/x-rgb</strong></td>
<td align=center><tt>rgb</tt></td>
<td>RGB image</td></tr>
<tr valign="top">
<td align=left><strong>image/x-xbitmap</strong></td>
<td align=center><tt>xbm</tt></td>
<td>X bitmap</td></tr>
<tr valign="top">
<td align=left><strong>image/x-xbm</strong></td>
<td align=center><tt>xbm</tt></td>
<td>X bitmap</td></tr>
<tr valign="top">
<td align=left><strong>image/x-xpixmap</strong></td>
<td align=center><tt>xpm</tt></td>
<td>X pixmap</td></tr>
<tr valign="top">
<td align=left><strong>image/x-xpm</strong></td>
<td align=center><tt>xpm</tt></td>
<td>X pixmap</td></tr>
<tr valign="top">
<td align=left><strong>image/x-xwd</strong></td>
<td align=center><tt>xwd</tt></td>
<td>X window dump</td></tr>
<tr valign="top">
<td align=left><strong>image/x-xwindowdump</strong></td>
<td align=center><tt>xwd</tt></td>
<td>X window dump</td></tr>
<tr valign="top">
<td align=left><strong>model/iges</strong></td>
<td align=center><tt>iges</tt></td>
<td>IGES model</td></tr>
<tr valign="top">
<td align=left><strong>model/mesh</strong></td>
<td align=center><tt>mesh</tt></td>
<td>Mesh model</td></tr>
<tr valign="top">
<td align=left><strong>model/vrml</strong></td>
<td align=center><tt>wrl</tt></td>
<td>VRML model</td></tr>
<tr valign="top">
<td align=left><strong>text/enriched</strong></td>
<td align=center><tt>rtx</tt></td>
<td>Text-enriched document</td></tr>
<tr valign="top">
<td align=left><strong>text/html</strong></td>
<td align=center><tt>html</tt></td>
<td>HTML document</td></tr>
<tr valign="top">
<td align=left><strong>text/plain</strong></td>
<td align=center><tt>txt</tt></td>
<td>Text document</td></tr>
<tr valign="top">
<td align=left><strong>text/richtext</strong></td>
<td align=center><tt>rtx</tt></td>
<td>Richtext document</td></tr>
<tr valign="top">
<td align=left><strong>text/setext</strong></td>
<td align=center><tt>stx</tt></td>
<td>Setext document</td></tr>
<tr valign="top">
<td align=left><strong>text/sgml</strong></td>
<td align=center><tt>sgml</tt></td>
<td>SGML document</td></tr>
<tr valign="top">
<td align=left><strong>text/tab-separated-values</strong></td>
<td align=center><tt>tsv</tt></td>
<td>Tab separated values</td></tr>
<tr valign="top">
<td align=left><strong>text/x-speech</strong></td>
<td align=center><tt>talk</tt></td>
<td>Speech document</td></tr>
<tr valign="top">
<td align=left><strong>video/isivideo</strong></td>
<td align=center><tt>fvi</tt></td>
<td>isi video</td></tr>
<tr valign="top">
<td align=left><strong>video/mpeg</strong></td>
<td align=center><tt>mpg</tt></td>
<td>MPEG movie</td></tr>
<tr valign="top">
<td align=left><strong>video/msvideo</strong></td>
<td align=center><tt>avi</tt></td>
<td>MS Video</td></tr>
<tr valign="top">
<td align=left><strong>video/quicktime</strong></td>
<td align=center><tt>mov</tt></td>
<td>QuickTime movie</td></tr>
<tr valign="top">
<td align=left><strong>video/vivo</strong></td>
<td align=center><tt>viv</tt></td>
<td>vivo video</td></tr>
<tr valign="top">
<td align=left><strong>video/wavelet</strong></td>
<td align=center><tt>wv</tt></td>
<td>Wavelet video</td></tr>
<tr valign="top">
<td align=left><strong>video/x-sgi-movie</strong></td>
<td align=center><tt>movie</tt></td>
<td>SGI movie</td></tr>
</table>
<!--X-Ext-CType-End-->
</center>

<hr size=0 noshade width="50%">
<H3><a name="m2h_text_enriched">m2h_text_enriched::filter</a></h3>

<p>This filter is designed to process text/enriched, or
text/richtext, data.  The following table summarizes the
translation of text/enriched commands to HTML tags:
</p>

<center>
<table border=1 cellpadding=2>
<tr valign=top align=left bgcolor="#C0C0C0">
<th>Text/Enriched Command</th><th>HTML Translation</th>
</tr>
<tr valign=top>
<td><strong>&lt;Bold></strong></td>
<td>&lt;B></td>
</tr>
<tr valign=top>
<td><strong>&lt;Italic></strong></td>
<td>&lt;I></td>
</tr>
<tr valign=top>
<td><strong>&lt;Underline></strong></td>
<td>&lt;U></td>
</tr>
<tr valign=top>
<td><strong>&lt;Fixed></strong></td>
<td>&lt;TT></td>
</tr>
<tr valign=top>
<td><strong>&lt;Smaller></strong></td>
<td>&lt;SMALL></td>
</tr>
<tr valign=top>
<td><strong>&lt;Bigger></strong></td>
<td>&lt;BIG></td>
</tr>
<tr valign=top>
<td><strong>&lt;FontFamily>&lt;Param><var>family</var>&lt;/Param></strong></td>
<td>&lt;FONT face="<var>family</var>"></td>
</tr>
<tr valign=top>
<td><strong>&lt;Color>&lt;Param><var>color</var>&lt;/Param></strong></td>
<td>&lt;FONT color="<var>color</var>"></td>
</tr>
<tr valign=top>
<td><strong>&lt;Center></strong></td>
<td>&lt;P align="center"></td>
</tr>
<tr valign=top>
<td><strong>&lt;FlushLeft></strong></td>
<td>&lt;P align="left"></td>
</tr>
<tr valign=top>
<td><strong>&lt;FlushRight></strong></td>
<td>&lt;P align="right"></td>
</tr>
<tr valign=top>
<td><strong>&lt;FlushBoth></strong></td>
<td>&lt;P align="both"> <em>(not supported in HTML)</em></td>
</tr>
<tr valign=top>
<td><strong>&lt;ParaIndent></strong></td>
<td>&lt;BLOCKQUOTE></td>
</tr>
<tr valign=top>
<td><strong>&lt;Excerpt></strong></td>
<td>&lt;BLOCKQUOTE></td>
</tr>
<tr valign=top>
<td><strong>&lt;Lang></strong></td>
<td><em>Stripped</em></td>
</tr>
</table>
</center>

<p>If the text/enriched contains non-ASCII character, the filter will
convert the characters to the appropriate entity references.
</p>

<table border=0 cellpadding=4>
<tr valign=top>
<td><strong>NOTE</strong></td>
<td><p>Only the ISO-8859-[1-10] character sets are recognized.
</p>
</td>
</tr>
</table>

<hr size=0 noshade width="50%">
<H3><a name="m2h_text_html">m2h_text_html::filter</a></h3>

<p>This filter is designed to process text/html or
text/x-html data.
The filter modifies the HTML so it can be
included validly into the message page.  Any head data will be
stripped out, but the title will be extracted and prepended
to the body data.
</p>

<hr size=0 noshade width="50%">
<H3><a name="m2h_text_plain">m2h_text_plain::filter</a></h3>

<p>This filter is designed to process text/plain messages and
messages with no MIME information.  The
filter is also used to process text messages of an unknown
subtype.
</p>

<p>The default behavior of the filter is wrap the data in
the HTML PRE element and escape special characters.  It will
also convert text that looks like a URL into a hyperlink.
If the data contains non-ASCII character, the filter will
convert the characters to the appropriate entity reference.
</p>

<table border=0 cellpadding=4>
<tr valign=top>
<td><strong>NOTE</strong></td>
<td><p>Only the ISO-8859-[1-10] and ISO-2022-JP
character sets are recognized.  For ISO-2022-JP data, a Web
client with ISO-2022-JP is required to read the data.
</p>
</td>
</tr>
</table>

<p><strong><tt>m2h_text_plain::filter</tt></strong> can take the
following
<a href="mimeargs.html">arguments</a>:
</p>

<table cellspacing=1 border=0 cellpadding=4>

<tr valign=top>
<td><strong><tt>asis=</tt></strong><var>set1</var><tt>:</tt>...</td>
<td><p>Colon separated lists of charsets to leave as-is.
Only HTML special characters will be converted into entities.
</p>
</tr>
<tr valign=top>
<td><strong><tt>default=</tt></strong><var>charset</var></td>
<td><p>Character set to use as the default if no character set
is defined for the message.  If option not specified,
"<tt>us-ascii</tt>" is used.
</p>
</tr>
<tr valign=top>
<td><strong><tt>keepspace</tt></strong></td>
<td><p>Preserve all spaces if the <strong><tt>nonfixed</tt></strong>
option is specified.  All spaces and tabs will be translated to the
equivalent number of <strong>&amp;nbsp;</strong> entity references.
</p>
</tr>
<tr valign=top>
<td><strong><tt>maxwidth=</strong><var>#</var></tt></td>
<td><p>Force the maximum width of lines to be <var>#</var> characters
in length.  Any lines longer than <var>#</var> characters will be
wrapped.
</p>
</tr>
<tr valign=top>
<td><strong><tt>nonfixed</tt></strong></td>
<td><p>Do not wrap message text in the HTML PRE element.  This will
cause text to be rendered in the default font (which is normally
proportionally spaced).  Each line of the message will have
a <tt>&lt;BR&gt;</tt> appended in order to preserve the line representation
of the message.
</p>
</tr>
<tr valign=top>
<td><strong><tt>nourl</tt></strong></td>
<td><p>Do not hyperlink URLs.
</p>
</tr>
<tr valign=top>
<td><strong><tt>quote</tt></strong></td>
<td><p>Italicize quoted message text.
</p>
</tr>
<tr valign=top>
<td><strong><tt>target=</tt></strong><var>name</var></td>
<td><p>Set the TARGET attribute of an anchor links generated from
hyperlinking URLs.  Default value is "<tt>_top</tt>".
</p>
</tr>

</table>

<p>All arguments should be separated by at least one space.</p>

<hr size=0 noshade width="50%">
<H3><a name="m2h_text_setext">m2h_text_setext::filter</a></h3>

<p>This filter converts text/setext and text/x-setext messages
to HTML.
</p>

<hr size=0 noshade width="50%">
<H3><a name="m2h_text_tsv">m2h_text_tsv::filter</a></h3>

<p>This filter converts text/tab-separated-values to HTML.  The
tabular data will be converted into an HTML table.
</p>

<!-- *************************************************************** -->
<hr>
<h2>Resource Variables</h2>

<p>N/A</p>

<!-- *************************************************************** -->
<hr>
<h2>Examples</h2>

<p>None.
</p>

<!-- *************************************************************** -->
<hr>
<h2>Version</h2>

<p>1.0
</p>

<!-- *************************************************************** -->
<hr>
<h2>See Also</h2>

<p>
<a href="charsetconverters.html">CHARSETCONVERTERS</a>,
<a href="mimeargs.html">MIMEARGS</a>,
<a href="perlinc.html">PERLINC</a>
</p>

<!-- *************************************************************** -->
<hr>
<address>
98/03/03 18:19:41<br>
<img align="top" src="../monicon.gif" alt="">
<a href="http://www.oac.uci.edu/indiv/ehood/mhonarc.html"><strong>MHonArc</strong></a><br>
Copyright &#169; 1997-1998 <a href="http://www.oac.uci.edu/indiv/ehood/">Earl Hood</a>, <a href="mailto:ehood@medusa.acs.uci.edu">ehood@medusa.acs.uci.edu</a><br>
</address>

</body>
</html>
