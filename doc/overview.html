<HTML>
<HEAD>
<TITLE>
MHonArc v1.2.2 -- Overview
</TITLE></HEAD>
<BODY>
[<A HREF=qstart.html>Previous</A>][<A HREF=rcfile.html>Next</A>][<A HREF=mhonarc.html>Contents</A>][<A HREF="http://www.oac.uci.edu/indiv/ehood/MHonArc/faq.html">FAQ</A>][<A HREF="http://www.oac.uci.edu/indiv/ehood/MHonArc/bugs.html">Bugs</A>][<A HREF=http://www.oac.uci.edu/indiv/ehood/mhonarc.html>Home</A>]
<HR>

<H1><A NAME="23618">Overview</A>
</H1>

<P>This section gives an overview of <EM>MHonArc</EM>'s command-line options and 
environment variables. The <EM>MHonArc</EM> resource file is covered in the section 
<A HREF="rcfile.html#21846">Resource File</A>. The resource file allows you to specify most of the resources set by 
environment variables and command-line options, plus it give you the capability 
of completely customizing the HTML output generated by <EM>MHonArc</EM>.
</P>
<HR>
<H2><A NAME="MMM0">Synopsis
</A></H2>

<P>Invoke <EM>MHonArc</EM> from your shell with the following syntax:
</P>
<P><CODE>% mhonarc </CODE>[<EM>options</EM>]<CODE> </CODE><EM>mhfolder</EM>... <BR>
<CODE>% mhonarc </CODE>[<EM>options</EM>]<CODE> </CODE><EM>mailbox</EM> ...<BR>
<CODE>% mhonarc -add </CODE>[<EM>options</EM>]<CODE> &lt; </CODE><EM>message</EM> <BR>
<CODE>% mhonarc -single </CODE>[<EM>options</EM>]<CODE> &lt; </CODE><EM>message</EM><CODE> &gt; </CODE><EM>message.html<BR>
</EM><CODE>% mhonarc -single </CODE>[<EM>options</EM>]<CODE> </CODE><EM>message</EM><CODE> &gt; </CODE><EM>message.html<BR>
</EM><CODE>% mhonarc -rmm </CODE>[<EM>options</EM>]<CODE> </CODE><EM>msg# </EM>...<EM> <BR>
</EM>
</P>
<HR>
<H2><A NAME="40331">Options</A>
</H2>

<P>The following options are available:
</P>
<H3><CODE><A NAME="15460">-add</A></CODE> 
</H3>

<P>Add new messages to an existing archive. If no mail folder arguments are given, 
<EM>MHonArc</EM> assumes that a <STRONG>single</STRONG> message is being added to the archive via <EM>standard 
input</EM>.  Otherwise, <EM>MHonArc</EM> adds the messages contained in the mail folders 
specified.
</P>
<H3><CODE><A NAME="13171">-dbfile</A></CODE> <EM>name</EM> 
</H3>

<P>Use <EM>name</EM> for the name of <EM>MHonArc</EM> database file. The default is "<CODE>.mhonarc.db</CODE>" 
(or "<CODE>MHONARC.DB</CODE>" under MS-DOS). 
</P>
<DL>
<DT><STRONG>NOTE</STRONG> 

<DD><P> You should not override the default name unless absolutely necessary, and 
you are confident about what you are doing.
</P></DL>
<H3><CODE><A NAME="19549">-docurl</A></CODE> <EM>url</EM> 
</H3>

<P>Use <EM>url</EM> as the URL to <EM>MHonArc</EM> documentation. The default is 
"<CODE>http://www.oac.uci.edu/indiv/ehood/mhonarc.html</CODE>".
</P>
<H3><CODE>-editidx</CODE> 
</H3>

<P>This option tells <EM>MHonArc</EM> to rewrite the index page and re-edit all mail messages 
in the archive. This option is useful if you need to change the layout of the index 
page and/or messages.
</P>
<H3><CODE><A NAME="21527">-footer</A></CODE> <EM>filename</EM> 
</H3>

<P>Insert contents of <VAR>filename</VAR> at the bottom of the index page. See <A HREF="indexpg.html#39385">Include Files</A> in 
<A HREF="indexpg.html#30032">Index Page Customization</A> for more information about the footer file.
</P>
<H3><CODE><A NAME="31625">-force</A></CODE> 
</H3>

<P>Override a lock on an archive if attempts to lock fail. I.e. After trying 
unsuccessfully to lock an archive, <EM>MHonArc</EM> will still perform the actions 
requested.
</P>
<P>This option is useful to help dealing with locks that are no longer valid (i.e. <EM>stale 
locks</EM>). A stale lock can exist if the <EM>MHonArc</EM> process that created the lock 
abnormally terminated and could not perform the proper cleanup procedures.
</P>
<H3><CODE>-genidx</CODE> 
</H3>

<P>Output an index page to standard output based upon the contents of an archive, 
and utilizing any extra formatting options specified.
</P>
<H3><CODE><A NAME="39268">-header</A></CODE> <EM>filename</EM> 
</H3>

<P>Insert contents of <EM>filename</EM> at the beginning of the index page. See <A HREF="indexpg.html#39385">Include Files</A> in 
<A HREF="indexpg.html#30032">Index Page Customization</A> for more information about the header file.
</P>
<H3><CODE>-help</CODE> 
</H3>

<P>Print out a help message about <EM>MHonArc</EM>.
</P>
<H3><CODE><A NAME="29572">-idxfname</A></CODE> <EM>name</EM> 
</H3>

<P>Sets the name of the main index file to <EM>name</EM>. The default is "<CODE>maillist.html</CODE>".
</P>
<H3><CODE>-idxsize</CODE> <VAR>#</VAR> 
</H3>

<P>Set the maximum number of messages listed in the indexes.
</P>
<H3><CODE>-lockdelay</CODE> <VAR>#</VAR> 
</H3>

<P>The sleep time, in seconds, between attempts to lock the archive. The default value 
is 3.
</P>
<H3><CODE><A NAME="38914">-locktries</A></CODE> <VAR>#</VAR> 
</H3>

<P>Set the number of time <EM>MHonArc</EM> tries to lock a mail archive before processing new 
messages. The default value is <CODE>10</CODE>. <EM>MHonArc</EM> waits approximately 3 seconds before 
each try.
</P>
<P>See <A HREF="details.html#13308">Archive Integrity</A> for more information on the <CODE>-locktries</CODE> options.
</P>
<H3><CODE><A NAME="36089">-mailtourl</A></CODE> <EM>url</EM> 
</H3>

<P>Use <EM>url</EM> for e-mail address hyperlinks in mail message headers. The <VAR>url</VAR> can contain 
the following <EM>variables</EM> that get expanded during run-time:
</P>
<DL>
<DT><CODE>$FROM$</CODE> 

<DD><P> Who the message is from.
</P></DL>
<DL>
<DT><CODE>$MSGID$</CODE> 

<DD><P> Message ID of the message.
</P></DL>
<DL>
<DT><CODE>$SUBJECT$</CODE> 

<DD><P> The subject of the message.
</P></DL>
<DL>
<DT><CODE>$TO$</CODE> 

<DD><P> Destination e-mail address of link.
</P></DL>
<P>The default URL is "<CODE>mailto:$TO$</CODE>"
</P>
<P>The <CODE>-mailtourl</CODE> option has no effect if the <A HREF="#19963"><CODE>-nomailto</CODE></A> option is specified.
</P>
<H3><CODE>-maxsize</CODE> <VAR>#</VAR> 
</H3>

<P>Set the maxinum number of messages allowed in the archive to <EM>#</EM>. If messages are 
added to the archive which would cause the total number of messages to exceed <EM>#</EM>, 
older messages (based on sort method) are removed automatically.
</P>
<H3><CODE><A NAME="33363">-msgsep</A></CODE> <EM>expression</EM> 
</H3>

<P>Use the <EM>expression</EM> as the Perl regular expression that signifies the message 
separator in Unix mailbox files. The default expression is "<CODE>^From </CODE>" (minus the 
quotes).
</P>
<DL>
<DT><STRONG>NOTE</STRONG> 

<DD><P> There is a space character after the <CODE>From</CODE>.
</P></DL>
<H3><CODE>-nodoc</CODE> 
</H3>

<P>Do not print link to documentation at end of index page.
</P>
<H3><CODE><A NAME="19963">-nomailto</A></CODE> 
</H3>

<P>Do not convert e-mail addresses in mail headers to <CODE>mailto</CODE> hyperlinks.
</P>
<H3><CODE><A NAME="14277">-nonews</A></CODE> 
</H3>

<P>Do not convert newsgroups in the <CODE>Newsgroups:</CODE> mail header field to <CODE>news</CODE> 
hyperlinks.
</P>
<H3><CODE><A NAME="14224">-noreverse</A></CODE> 
</H3>

<P>Do not perform a reverse listing of the mail messages in the index page.
</P>
<H3><CODE><A NAME="31379">-nosort</A></CODE> 
</H3>

<P>Do not sort messages by date. Messages will be in the order they appear in the 
mailboxes/folders. By default, <EM>MHonArc</EM> sorts messages by date sent/received.
</P>
<P><CODE>-nosort</CODE> takes precedence over the <A HREF="#24783"><CODE>-sort</CODE></A> option.
</P>
<H3><CODE>-nothread</CODE> 
</H3>

<P>Do not create a thread index page.
</P>
<H3><CODE>-notsubsort</CODE> 
</H3>

<P>Do not sort threads by subject on thread index page.
</P>
<H3><CODE>-notreverse</CODE> 
</H3>

<P>List threads in the thread index with oldest thread first.
</P>
<H3><CODE><A NAME="40416">-outdir</A></CODE> <VAR>path</VAR> 
</H3>

<P>Set destination/location of the HTML mail archive to <EM>path</EM>. By default, the current 
working directory is used.
</P>
<H3><CODE><A NAME="11196">-quiet</A></CODE> 
</H3>

<P>Suppress processing messages when <EM>MHonArc</EM> is running.
</P>
<H3><CODE><A NAME="31250">-rcfile</A></CODE> <VAR>file</VAR> 
</H3>

<P>Use <VAR>file</VAR> as the resource file for <EM>MHonArc</EM>. <EM>MHonArc</EM> does the following to determine 
the location of <VAR>file</VAR>:
</P>
<OL>

<LI>If its an absolute pathname, use it.
<LI>If it is a relative pathname, check for it relative to the current working 
directory.
<LI>Otherwise, check for it relative to the location of the archive.
</OL>

<P>See <A HREF="rcfile.html#21846">Resource File</A> for more information. There is no default resource file.
</P>
<H3><CODE><A NAME="34170">-reverse</A></CODE> 
</H3>

<P>List messages in reverse order of the sorting option specified. For example, if date 
sorting is specified, <CODE>-reverse</CODE> will cause messages to be listed in <EM>reverse</EM> 
chronological order.
</P>
<H3><CODE><A NAME="13676">-rmm</A></CODE> 
</H3>

<P>All non-option command-line arguments are treated as messages to remove from 
the archive. Messages to remove are denoted by their message numbers.
</P>
<H3><CODE><A NAME="28456">-savemem</A></CODE> 
</H3>

<P>Normally, all messages are stored in memory and then written in one shot. This 
option causes <EM>MHonArc</EM> to write the message data as it is processesd. This option 
will cause a slow down in execution time as more disk I/O required, but it may 
allow large amounts of data to be processed in a single process if memory is 
limited.
</P>
<DL>
<DT><STRONG>NOTE</STRONG> 

<DD><P> The reason more disk I/O is required is that when the message data is first 
written, all the archive navigational link information is non-existant. The 
information required to correctly generate the navigational link 
information will not exist until all messages are processed. Therefore, each 
new message file must be reopened to add in the navigational link 
information after all messages are processed.
</P></DL>
<H3><CODE><A NAME="12482">-scan</A></CODE> 
</H3>

<P>List contents of archive to standard output.
</P>
<H3><CODE><A NAME="15562">-single</A></CODE> 
</H3>

<P>Convert a single mail message to HTML. The message can be specified by a 
filename on the command-line, or read from standard input if no file is given. The 
filtered message is sent to standard output.
</P>
<P>The <CODE>-single</CODE> option is useful tp convert individual messages to HTML not related 
to a specific mail archive. Any option related to how message formatting can be 
used with the <CODE>-single</CODE> option.
</P>
<P>The <CODE>-single</CODE> takes precedence over the <A HREF="#15460"><CODE>-add</CODE></A> option.
</P>
<H3><CODE><A NAME="24783">-sort</A></CODE> 
</H3>

<P>Perform chronological date sorting. This is the default.
</P>
<H3><CODE><A NAME="15691">-subsort</A></CODE> 
</H3>

<P>Sort messages by subject. Subject sorting is case-insensitive, and begining "<CODE>Re:</CODE>", 
"<CODE>A</CODE>", "<CODE>An</CODE>", and "<CODE>The</CODE>" words are ignored.
</P>
<H3><CODE><A NAME="31437">-tidxfname</A></CODE> <EM>name</EM> 
</H3>

<P>Sets the name of the thread index file to <EM>name</EM>. The default is "<CODE>threads.html</CODE>".
</P>
<H3><CODE>-time</CODE> 
</H3>

<P>Print out total CPU execution time taken when processing messages. Time 
information is written to standard error.
</P>
<H3><CODE><A NAME="11204">-title</A></CODE> <EM>string</EM> 
</H3>

<P>Set the title of the main index page to <EM>string</EM>. The default is "<EM>Mail Index</EM>".
</P>
<H3><CODE>-thread</CODE> 
</H3>

<P>Create a thread index page. This is the default.
</P>
<H3><CODE>-tlevels</CODE> 
</H3>

<P>Set the maximum number of nested lists for the thread index page. The default is 3.
</P>
<H3><CODE>-treverse</CODE> 
</H3>

<P>List threads in the thread index with newest thread first.
</P>
<H3><CODE>-tsubsort</CODE> 
</H3>

<P>List threads in the thread index by subject.
</P>
<H3><CODE><A NAME="18016">-ttitle</A></CODE> <EM>string</EM> 
</H3>

<P>Set the title of the thread index page to <EM>string</EM>. The default is "<EM>Mail Thread Index</EM>".
</P>
<H3><CODE><A NAME="23735">-umask</A></CODE> <EM>umask</EM> 
</H3>

<P>Set the umask of the <EM>MHonArc</EM> process to <EM>umask</EM>. The value is treated as an octal 
number.
</P>
<H3>NOTE 
</H3>

<P>The <CODE>-no</CODE>* options always take precedence over their counterparts. For example, if 
<CODE>-noreverse</CODE> and <CODE>-reverse</CODE> are both specified on the command-line, the 
<CODE>-noreverse</CODE> will be applied.
</P>
<HR>
<H2><A NAME="42234">Environment </A>
</H2>

<P><EM>MHonArc</EM> supports the use of environment variables. The environment variables 
allow you to set default options everytime you invoke <EM>MHonArc</EM>. The following 
environment variables may be used:
</P>
<H3><CODE><A NAME="19406">M2H_DBFILE</A></CODE> 
</H3>

<P>Sets the name of <EM>MHonArc</EM> database file. The default is "<CODE>.mhonarc.db</CODE>" (or 
"<CODE>MHONARC.DB</CODE>" under MS-DOS). 
</P>
<DL>
<DT><STRONG>NOTE</STRONG> 

<DD><P> You should not override the default name unless absolutely necessary, and 
you are confident about what you are doing.
</P></DL>
<H3><CODE>M2H_DOCURL</CODE> 
</H3>

<P>Set the URL used to point to <EM>MHonArc</EM> documentation. The default is, 
"<CODE>http://www.oac.uci.edu/indiv/ehood/mhonarc.html</CODE>".
</P>
<H3><CODE><A NAME="18889">M2H_FOOTER</A></CODE> 
</H3>

<P>Set the HTML footer file to insert at the bottom of the index page. No default footer 
file is defined. See <A HREF="indexpg.html#39385">Include Files</A> in <A HREF="indexpg.html#30032">Index Page Customization</A> for more information 
about the footer file.
</P>
<H3><CODE><A NAME="21061">M2H_HEADER</A></CODE> 
</H3>

<P>Set the HTML header file to insert at the top of the index page. No default header 
file is defined. See <A HREF="indexpg.html#39385">Include Files</A> in <A HREF="indexpg.html#30032">Index Page Customization</A> for more information 
about the header file.
</P>
<H3><CODE><A NAME="40918">M2H_IDXFNAME</A></CODE> 
</H3>

<P>Set the name of the index file. The default is, "<CODE>maillist.html</CODE>".
</P>
<H3><CODE>M2H_IDXSIZE</CODE> 
</H3>

<P>Sets the maximum number of messages listed in the indexes.
</P>
<H3><CODE>M2H_LOCKFILE</CODE> 
</H3>

<P>The sleep time, in seconds, between attempts to lock the archive. The default value 
is 3.
</P>
<H3><CODE>M2H_LOCKFILE</CODE> 
</H3>

<P>Set the name of the lock file. The default name use is "<CODE>.mhonarc.lck</CODE>" (or 
"<CODE>MHONARC.LCK</CODE>" under MS-DOS). 
</P>
<DL>
<DT><STRONG>NOTE</STRONG> 

<DD><P> You should not change the default unless absolutely necessary.
</P></DL>
<P>See <A HREF="details.html#13308">Archive Integrity</A> for more information about the lock file.
</P>
<H3><CODE><A NAME="13392">M2H_LOCKTRIES</A></CODE> 
</H3>

<P>Set the number of time <EM>MHonArc</EM> tries to lock a mail archive before processing new 
messages. The default value is <CODE>10</CODE>. <EM>MHonArc</EM> waits approximately 3 seconds before 
each try.
</P>
<P>See <A HREF="details.html#13308">Archive Integrity</A> for more information on the <CODE>M2H_LOCKTRIES</CODE> environment 
variable.
</P>
<H3><CODE>M2H_MAILTOURL</CODE> 
</H3>

<P>Sets the URL for e-mail address hyperlinks in mail message headers. The URL can 
contain the following <EM>variables</EM> that get expanded during run-time:
</P>
<DL>
<DT><CODE>$FROM$</CODE> 

<DD><P> Who the message is from.
</P></DL>
<DL>
<DT><CODE>$MSGID$</CODE> 

<DD><P> Message ID of the message.
</P></DL>
<DL>
<DT><CODE>$SUBJECT$</CODE> 

<DD><P> The subject of the message.
</P></DL>
<DL>
<DT><CODE>$TO$</CODE> 

<DD><P> Destination e-mail address of link.
</P></DL>
<P>The default URL is "<CODE>mailto:$TO$</CODE>"
</P>
<H3><CODE>M2H_MAXSIZE</CODE> 
</H3>

<P>Sets the maximum number of messages that an archive will contain. If messages 
are added to the archive which would cause the total number of messages to 
exceed <CODE>M2H_MAXSIZE</CODE>, older messages (based on sort method) are removed 
automatically.
</P>
<H3><CODE><A NAME="30949">M2H_OUTDIR</A></CODE> 
</H3>

<P>Sets the destination/location of the HTML mail archive. The default is the current 
working directory.
</P>
<H3><CODE><A NAME="36085">M2H_RCFILE</A></CODE> 
</H3>

<P>Specifies the <A HREF="rcfile.html#21846">Resource File</A> for <EM>MHonArc</EM>. No default resource file is defined.
</P>
<H3><CODE>M2H_THREAD</CODE> 
</H3>

<P>Flag to determine if <EM>MHonArc</EM> generates a thread index. If set to zero, the thread 
index will not be created. The default behavior is to create a thread index.
</P>
<H3><CODE><A NAME="20008">M2H_TIDXFNAME</A></CODE> 
</H3>

<P>Sets the name of the thread index file. The default is "<CODE>threads.html</CODE>".
</P>
<H3><CODE><A NAME="32063">M2H_TITLE</A></CODE> 
</H3>

<P>Sets the default title of the index page. The default is "<EM>Main Index</EM>".
</P>
<H3><CODE>M2H_TLEVELS</CODE> 
</H3>

<P>Sets the maximum number of nested lists for the thread index page. The default is 
3.
</P>
<H3><CODE><A NAME="11415">M2H_TTITLE</A></CODE> 
</H3>

<P>Sets the title of the thread index page. The default is "<EM>Mail Thread Index</EM>".
</P>
<H3>NOTE 
</H3>

<P>Environment variables may be overriden by the <A HREF="rcfile.html#21846">Resource File</A> or command-line 
<A HREF="#40331">Options</A>.
</P>

<HR>
[<A HREF=qstart.html>Previous</A>][<A HREF=rcfile.html>Next</A>][<A HREF=mhonarc.html>Contents</A>][<A HREF="http://www.oac.uci.edu/indiv/ehood/MHonArc/faq.html">FAQ</A>][<A HREF="http://www.oac.uci.edu/indiv/ehood/MHonArc/bugs.html">Bugs</A>][<A HREF=http://www.oac.uci.edu/indiv/ehood/mhonarc.html>Home</A>]
</BODY>
</HTML>
